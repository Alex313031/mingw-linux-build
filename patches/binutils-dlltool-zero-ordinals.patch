If the .def author does not pick an ordinal then it has no meaningful
ordinal. It never makes sense to invent unique hints. That populates
binaries with noise and inhibits reproducible builds. Instead zero out
all ordinal hints to indicate "no data." In Mingw-w64 import libraries
virtually every implicit ordinal hint is nonsense.

The singular exception might be ordinal-only, NONAME entries without an
explicit ordinal, which instead relies on implicit, undocumented ordinal
numbering. In that case it's not merely a hint. However, this is unsound
and ought to be a syntax error, as it is with MSVC lib.exe. (This patch
should probably make it so.) I could find no examples of this situation
in the wild.

diff --git a/binutils/dlltool.c b/binutils/dlltool.c
index 8b888fe5..8712e85a 100644
--- a/binutils/dlltool.c
+++ b/binutils/dlltool.c
@@ -3647,6 +3647,7 @@ fill_ordinals (export_type **d_export_vec)
                goto done;
              }
        done:;
+               d_export_vec[i]->ordinal = 0;
        }
     }
 
@@ -3672,7 +3673,7 @@ mangle_defs (void)
   export_type *exp;
 
   int i;
-  int hint = 0;
+  [[maybe_unused]] int hint = 0;
   export_type **d_export_vec = xmalloc (sizeof (export_type *) * d_nfuncs);
 
   inform (_("Processing definitions"));
@@ -3706,7 +3707,7 @@ mangle_defs (void)
   /* Fill exp entries with their hint values.  */
   for (i = 0; i < d_nfuncs; i++)
     if (!d_exports_lexically[i]->noname || show_allnames)
-      d_exports_lexically[i]->hint = hint++;
+      d_exports_lexically[i]->hint = 0;
 
   inform (_("Processed definitions"));
 }
